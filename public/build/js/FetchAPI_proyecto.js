function formularioCrearProyecto(){document.querySelector(".crear-proyecto").addEventListener("click",(function(){Swal.fire({title:"Nombre del proyecto",input:"text",inputAttributes:{autocapitalize:"off",required:"on"},customClass:{input:"nombreproyecto"},validationMessage:"El nombre del proyecto es obligatorio.",cancelButtonText:"Cancelar",showCancelButton:!0,confirmButtonText:"Crear",showLoaderOnConfirm:!0}).then(e=>{if(e.isConfirmed){const e=document.querySelector(".nombreproyecto").value.trim(),o=document.querySelector(".codigousuario");if(""===e)return void Swal.fire({icon:"error",title:"Oops...",text:"El nombre del proyecto no puede estar vacío."});const t=new FormData;t.append("nombreproyecto",e),t.append("propietario",parseInt(o.value)),crearproyecto(t)}})}))}async function crearproyecto(e){try{const o="http://localhost:4000/crear_proyectos/popup",t=await fetch(o,{method:"POST",body:e}),r=await t.json();r.url;r.respuesta&&Swal.fire({position:"center",icon:"success",title:"Proyecto Creado",text:"Tu proyecto se creó correctamente",button:"OK"}).then(()=>{window.location.href="http://localhost:4000/proyecto?id="+r.url})}catch(e){console.log(e),Swal.fire({icon:"error",title:"Error",text:"No pudimos crear tu proyecto, intenta nuevamente más tarde"}).then(()=>{window.location.reload()})}}document.addEventListener("DOMContentLoaded",(function(){formularioCrearProyecto()}));