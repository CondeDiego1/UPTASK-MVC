!function(){const e=document.querySelector("#equipo");e&&e.addEventListener("click",(function(){Swal.fire({title:"Añadir Participante",input:"email",inputLabel:"Ingrese el email del nuevo integrante",inputPlaceholder:"Email",validationMessage:"El campo email es obligatorio",cancelButtonText:"Cancelar",showCancelButton:!0,confirmButtonText:"Añadir",showLoaderOnConfirm:!0,customClass:{input:"email-nuevo-integrante"}}).then(e=>{if(e.isConfirmed){const e=document.querySelector(".email-nuevo-integrante").value.trim(),t=new FormData;t.append("emailnuevo",e),t.append("url",function(){const e=new URLSearchParams(window.location.search);return Object.fromEntries(e.entries()).id}()),async function(e){try{const t="/incluir",i=await fetch(t,{method:"POST",body:e}),n=await i.json();if(n.existe)return void Swal.fire({icon:"warning",title:"Advertencia",text:"No se puede agregar un usuario que ya participa en el proyecto.",button:"OK"});if(n.propietario)return void Swal.fire({icon:"warning",title:"Advertencia",text:"No se puede agregar como participante al propietario.",button:"OK"});n&&Swal.fire({position:"center",icon:"success",title:"Éxito",text:"El participante se añadió correctamente.",button:"OK"})}catch(e){Swal.fire({icon:"error",title:"Error",text:"El usuario ingresado no existe."}).then(e=>{e.isDismissed&&window.location.reload()})}}(t)}})}))}();